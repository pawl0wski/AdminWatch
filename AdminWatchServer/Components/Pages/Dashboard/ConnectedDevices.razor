@page "/dashboard"
@rendermode InteractiveServer
@using AdminWatchServer.Services.Devices
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@inject IDevicesRepository DevicesRepository;

@layout DashboardLayout

<h1 class="dashboard_title">Podłączone urządzenia</h1>

<FluentStack Wrap="true" HorizontalGap="20" VerticalGap="20">
    @foreach (var device in DevicesRepository.GetAllDevices())
    {
        <ConnectedDevice
            OnShutdown="OnShutdownClick"
            Device="device" />
    }
</FluentStack>

@code {


    private void OnShutdownClick()
    {
        Console.WriteLine("Hello!");
    }

}